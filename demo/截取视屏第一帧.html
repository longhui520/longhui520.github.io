<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">
<title>capture screen</title>
</head>
<body>
<video id="video">
<source src="1568948568.mp4">
</video>
<div id="output"></div>
<script type="text/javascript">
(function(){
var video, output;
var scale = 0.8;
var initialize = function() {
output = document.getElementById("output");
video = document.getElementById("video");
video.addEventListener('loadeddata',captureImage);  // 用于向指定元素添加事件句柄。
};
 
var captureImage = function() {
            var canvas = document.createElement("canvas"); // 创建一个画布
            canvas.width = video.videoWidth * scale;
            canvas.height = video.videoHeight * scale;
            canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height); // getContext:设置画布环境；drawImage:画画
 
            var img = document.createElement("img");
            img.src = canvas.toDataURL("image/png"); // 获取图片的url
            output.appendChild(img);
};
 
initialize();
})();
</script>
</body>
</html>